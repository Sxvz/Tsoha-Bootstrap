{% extends "base.html" %}
{% block content %}
<form class="form-inline" action="" method="get">
    <div class="col-xs-12 col-md-8 form-group">
        <input name="search_phrase" type="search" class="form-control" id="search_phrase" style="width:100%">
    </div>
    <div class="col-xs-12 col-md-4 form-group">
        <div class="row">
            <div class="col-xs-12 col-md-4">
                <label for="search_type">Search by</label>
            </div>
            <div class="col-xs-8 col-md-4">
                <select name="search_type" class="form-control" id="search_type" style="width:100%">
                    <option>Title</option>
                    <option>Type</option>
                    <option>Content</option>
                    <option>Poster</option>
                </select>
            </div>
            <div class="col-xs-4 col-md-4">
                <button type="submit" class="btn btn-default" style="width:100%">Search</button>
            </div>
        </div>
    </div>
</form>
<br/>
<br/>
<br/>
<div class="col-xs-12">
    <table class="table table-bordered table-striped table-hover" style="table-layout:fixed; width:100%;">
        <thead>
            <tr>
                <th style="width:50%">Title</th>
                <th class="hidden-xs" style="width:10%">Type</th>
                <th class="hidden-xs" style="width:40%">Content preview</th>
                <th class="visible-xs" style="width:50%">Content preview</th>
            </tr>
        </thead>
        <tbody>
            {% for meme in memes %}
            <tr onclick="document.location = '/memeDB/memes/{{meme.id}}'">
                <td>{{meme.title}}</td>
                <td class="hidden-xs">{{meme.type}}</td>
                <td><!-- style="word-break:break-all">-->
                    {% if meme.type == 'Image' %}
                    <img class="img-responsive" src="{{meme.content}}" alt="picture of a meme" style="max-height:100px">
                    {% elseif meme.type == 'Copypasta' %}
                    {{meme.content}}
                    {% elseif meme.type == 'Video' %}
                    <img class="img-responsive" src="https://img.youtube.com/vi/{{meme.content}}/sddefault.jpg" alt="video thumbnail" style="max-height:100px">            
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<!--placeholder-->
<ul class="list-inline">
    <li><strong>Pages:</strong></li>
    {% for page in pages %}
    <li><a href="/memeDB/memes?page={{page}}{{additional_params}}" style="color:green">{{page}}</a></li>
    {% endfor %}
</ul>
{% endblock %}